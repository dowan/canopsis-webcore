{{!*
    @class editor-elementidselectorwithoptions

    A complex editor to manage an array of objects, by selecting model instances from a table, and generating new objects with some keys into the model instance.

    For each generated objects, a customizable sub form is presented to the user, allowing objects customization via usual "editors" principle.

    @param {string} type should be array

    @param {object} source refers to to available elements to be used by the user to generate the result value
    @param {string} source.schema the schema to be used to feed the available elements table
    @param {array} source.columns the columns to be used in the available elements table.
    @param {string} source.searchMethod the name of the method to perform a search on available elements. Refers to an element name in the search methods registry

    @param {array} sourceMappingKeys handles the list of keys to use to generate a new object when an user selects an available element.
                    Specified keys will be taken and be put on the destination object.


    @param {object} items
    @param {string} items.type should be object
    @param {string} items.role the item role is used to generate the header of each element's subform, by getting the appropriate renderer, if any

    @param {string} items.typeKeyName the key name of the generated object that contains type information. Usually set to "xtype"
    @param {object} items.properties the dict of properties of generated objects. Used to generate the sub form of each object.
    @param {object} items.model used to statically set a type to generated objects

    @example

    metrics: {
        "type": "array",
        "source": {
            "schema": "ctxmetric",
            "searchMethod": "metric",
            "columns": [
                {"name": "component", "title": "Component"},
                {"name": "resource", "title": "Resource"},
                {"name": "cid", "title": "Metric"}
            ]
        },
        "sourceMappingKeys": [{
            "sourceItemKey": "id",
            "objectKey": "metric"
        }],
        "items": {
            "type": "object",
            "role": "stylizedmetric",
            "typeKeyName": "xtype",
            "properties": {
                "color": {
                    "type": "string",
                    "role": "color"
                },
                "label": {
                    "type": "string"
                },
                "xaxis": {
                    "type": "string"
                },
                "yaxis": {
                    "type": "string"
                },
                "unit": {
                    "type": "string"
                }
            },
            "relationship": "belongsTo",
            "model": "stylizedmetric"
        }
    }

    @//TODO manage search in a dynamic way, as an editor property binding to a search method
*}}

{{component-elementidselectorwithoptions content=attr}}
