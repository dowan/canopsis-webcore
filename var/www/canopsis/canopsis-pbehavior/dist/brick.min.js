Ember.Application.initializer({name:"PbehaviorAdapter",after:["VeventAdapter","ModelsolveUtils"],initialize:function(e,t){var i=e.lookupFactory("adapter:vevent"),n=e.lookupFactory("utility:modelsolve"),r=(Ember.get,Ember.set,Ember.isNone),o=i.extend({buildURL:function(e,t,i){var n="/pbehavior";return r(t)||(n+="/"+t),n},findCalendarPBehavior:function(e,t){var i="/pbehavior/calendar";return console.log("display query findAll",t),new Ember.RSVP.Promise(function(e,r){var o=n.gen_resolve(e),a=n.gen_reject(r);$.get(i,t).then(o,a)})}});t.register("adapter:pbehavior",o)}}),Ember.Application.initializer({name:"component-periodicbehaviormanager",after:"CrudMixin",initialize:function(e,t){var i=e.lookupFactory("mixin:crud"),n=Ember.get,r=Ember.set;__=Ember.String.loc;var o=Ember.Component.extend(Ember.Evented,i),a=o.extend({init:function(){r(this,"mixinOptions",{crud:{form:"modelform"}}),this._super.apply(this,arguments);var e=DS.Store.create({container:n(this,"container")});r(this,"widgetDataStore",e),this.refreshContent(),this.on("refresh",this.refreshContent)},refreshContent:function(){console.group("Fetching periodic behaviors"),console.log("context:",n(this,"contextId"));var e=n(this,"widgetDataStore"),t=this;e.findQuery("pbehavior",{entity_ids:n(this,"contextId")}).then(function(e){r(t,"behaviors",n(e,"content")),console.log("behaviors:",n(t,"behaviors"))}),console.groupEnd()},onRecordReady:function(e){this._super.apply(this,arguments);var t=n(this,"contextId");r(e,"source",t)},tableColumns:[{name:"dtstart",title:__("From")},{name:"dtend",title:__("To")},{name:"rrule",title:__("Recursion")},{name:"duration",title:__("Duration")},{name:"behaviors",title:__("Behaviors")},{title:new Ember.Handlebars.SafeString('<span class="glyphicon glyphicon-plus-sign"></span>'),action:"edit",actionAll:"addBehavior",style:"text-align: center;"},{title:new Ember.Handlebars.SafeString('<span class="glyphicon glyphicon-trash"></span>'),action:"remove",style:"text-align: center;"}],actions:{addBehavior:function(){this.send("add","pbehavior")}}});t.register("component:component-periodicbehaviormanager",a)}}),Ember.Application.initializer({name:"PbehaviorSerializer",after:"ContextSerializer",initialize:function(e,t){var i=e.lookupFactory("serializer:context"),n=i.extend({});t.register("serializer:pbehavior",n)}});
//# sourceMappingURL=dist/brick.map.js