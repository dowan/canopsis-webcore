{{#if controller.show_user}}
    <h1>Statistiques sur les utilisateurs</h1>

    <table class="table table-bordered table-responsive">
        <thead>
            <tr>
                <th>Utilisateur</th>

                {{#if controller.show_advanced}}
                    <th colspan="3">Délais</th>
                    <th colspan="3">Délais cumulés</th>
                {{/if}}

                <th>Compteurs d'acquittement</th>
            </tr>
            <tr>
                <th></th>

                {{#if controller.show_advanced}}
                    <th>Résolution</th>
                    <th>Acquittement</th>
                    <th>Résolution depuis acquittement</th>

                    <th>Résolution</th>
                    <th>Acquittement</th>
                    <th>Résolution depuis acquittement</th>
                {{/if}}

                <th>Total</th>
            </tr>
        </thead>

        <tbody>
            {{#each controller.userTable as |scope|}}
                <tr>
                    <td>{{scope.__name__}}</td>
                    {{#if controller.show_advanced}}
                        <td>{{hr scope.alarm_solved.last.value unit="s"}}</td>
                        <td>{{hr scope.alarm_ack_delay.last.value unit="s"}}</td>
                        <td>{{hr scope.alarm_ack_solved.last.value unit="s"}}</td>
                        <td>{{hr scope.alarm_solved.sum.value unit="s"}}</td>
                        <td>{{hr scope.alarm_ack_delay.sum.value unit="s"}}</td>
                        <td>{{hr scope.alarm_ack_solved.sum.value unit="s"}}</td>
                    {{/if}}
                    <td>{{hr scope.alarm_ack.total.value}}</td>
                </tr>
            {{/each}}
        </tbody>
    </table>

    {{#if controller.show_advanced}}
        <div class="chart-container">
            {{component-c3js series=controller.userDelaySeries}}

            <p><center><b>Délais utilisateurs</b></center></p>
        </div>
    {{/if}}
{{/if}}

{{#if controller.show_event}}
    {{#if controller.show_advanced}}
        <h1>Statistiques sur les événements</h1>

        <table class="table table-bordered table-responsive">
            <tbody>
                <tr class="info">
                    <th colspan="2">Délais</th>
                </tr>
                <tr>
                    <td>Acquittement</td>
                    <td>{{hr controller.events.__canopsis__.alarm_ack_delay.last.value unit="s"}}</td>
                </tr>
                <tr>
                    <td>Résolution</td>
                    <td>{{hr controller.events.__canopsis__.alarm_solved_delay.last.value unit="s"}}</td>
                </tr>
                <tr>
                    <td>Résolution avec acquittement</td>
                    <td>{{hr controller.events.__canopsis__.alarm_ack_solved_delay.last.value unit="s"}}</td>
                </tr>

                <tr class="info">
                    <th colspan="2">Délais cumulés</th>
                </tr>
                <tr>
                    <td>Acquittement</td>
                    <td>{{hr controller.events.__canopsis__.alarm_ack_delay.sum.value unit="s"}}</td>
                </tr>
                <tr>
                    <td>Résolution</td>
                    <td>{{hr controller.events.__canopsis__.alarm_solved_delay.sum.value unit="s"}}</td>
                </tr>
                <tr>
                    <td>Résolution avec acquittement</td>
                    <td>{{hr controller.events.__canopsis__.alarm_ack_solved_delay.sum.value unit="s"}}</td>
                </tr>
                
                <tr class="info">
                    <th colspan="2">Compteurs</th>
                </tr>

                <tr class="success"><td colspan="2">Total</td></tr>
                {{#each controller.eventCounterTotal as |scope|}}
                    <tr>
                        <td>{{scope.__name__}}</td>
                        <td>{{hr scope.value}}</td>
                    </tr>
                {{/each}}
                <tr class="success"><td colspan="2">Acquittée</td></tr>
                {{#each controller.eventCounterAck as |scope|}}
                    <tr>
                        <td>{{scope.__name__}}</td>
                        <td>{{hr scope.value}}</td>
                    </tr>
                {{/each}}
                <tr class="success"><td colspan="2">Résolue</td></tr>
                {{#each controller.eventCounterSolved as |scope|}}
                    <tr>
                        <td>{{scope.__name__}}</td>
                        <td>{{hr scope.value}}</td>
                    </tr>
                {{/each}}
                <tr class="success"><td colspan="2">Résolue avec acquittement</td></tr>
                {{#each controller.eventCounterAckSolved as |scope|}}
                    <tr>
                        <td>{{scope.__name__}}</td>
                        <td>{{hr scope.value}}</td>
                    </tr>
                {{/each}}
            </tbody>
        </table>

        <div class="chart-container">
            {{component-c3js series=controller.alarmDelaySeries}}

            <p><center><b>Délais d'événements</b></center></p>
        </div>

        <div class="chart-container">
            {{component-c3js series=controller.alarmSeries}}

            <p><center><b>Compteurs d'événements</b></center></p>
        </div>
    {{/if}}
{{/if}}