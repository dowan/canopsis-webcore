var concat = require('broccoli-concat');
var uglifyJavaScript = require('broccoli-uglify-js');

var tree = concat('src', {
  inputFiles: [
    'controller/application.js',
    'controller/form.js',
    'controller/formwrapper.js',
    'controller/login.js',
    'controller/partialslotablecontroller.js',
    'controller/perfdata.js',
    'controller/recordinfopopup.js',
    'controller/serie.js',
    'controller/userview.js',
    'controller/widget.js',
    'lib/abstractclassregistry.js',
    'lib/contextsregistry.js',
    'lib/externals/console.js/console.js',
    'lib/externals/ion.rangeSlider/js/ion.rangeSlider.js',
    'lib/externals/jquery-resize/jquery.ba-resize.min.js',
    'lib/externals/jsonselect/src/jsonselect.js',
    'lib/externals/mousetrap/mousetrap.min.js',
    'lib/factories/form.js',
    'lib/factories/mixin.js',
    'lib/factories/widget.js',
    'lib/factories/wrapper.js',
    'lib/formsregistry.js',
    'lib/inflections.js',
    'lib/mixinsregistry.js',
    'lib/promisesmanager.js',
    'lib/schemasregistry.js',
    'lib/widgetsregistry.js',
    'lib/actionsregistry.js',
    'lib/indexesregistry.js',
    'lib/requirejsmocksmanager.js',
    'lib/searchmethodsregistry.js',
    'lib/utilityclass.js',
    'lib/utils/actions.js',
    'lib/utils/data.js',
    'lib/utils/dates.js',
    'lib/utils/debug.js',
    'lib/utils/dom.js',
    'lib/utils/drag.js',
    'lib/utils/event.js',
    'lib/utils/filterObject.js',
    'lib/utils/forms.js',
    'lib/utils/hash.js',
    'lib/utils/indexes.js',
    'lib/utils/modelsolve.js',
    'lib/utils/notification.js',
    'lib/utils/routes.js',
    'lib/utils/slug.js',
    'lib/utils/values.js',
    'lib/utils/widgets.js',
    'lib/utils/widgetSelectors.js',
    'lib/wrappers/console.js',
    'lib/wrappers/ionicons.js',
    'lib/wrappers/mousetrap.js',
    'mixins/consolemanager.js',
    'mixins/criticitylevels.js',
    'mixins/documentation.js',
    'mixins/embeddedrecordserializer.js',
    'mixins/hashserializer.js',
    'mixins/inspectablearray.js',
    'mixins/inspectableitem.js',
    'mixins/loadingindicator.js',
    'mixins/metaserializer.js',
    'mixins/notifications.js',
    'mixins/promisemanager.js',
    'mixins/requirejsmocksmanager.js',
    'mixins/schemamanager.js',
    'mixins/screentoolstatusmenu.js',
    'mixins/userprofilestatusmenu.js',
    'mixins/validation.js',
    'mixins/validationfield.js',
    'routes/application.js',
    'routes/authenticated.js',
    'routes/index.js',
    'routes/userview.js',
    'serializers/application.js',
    'serializers/loggedaccount.js',
    'serializers/userview.js',
    'serializers/widget.js',
    'serializers/widgetwrapper.js',
    'validators/mail/validator.js',
    'validators/maxItems/validator.js',
    'validators/minItems/validator.js',
    'validators/number/validator.js',
    'validators/required/validator.js',
    'validators/rights/validator.js',
    'validators/validate/validator.js',
    'view/application.js',
    'view/arraytocollectioncontrol.js',
    'view/editor.js',
    'view/formwrapper.js',
    'view/listline.js',
    'view/mixineditdropdown.js',
    'view/partialslot.js',
    'view/recordinfopopup.js',
    'view/tabledraggableth.js',
    'view/userview.js',
    'view/validationtextarea.js',
    'view/validationtextfield.js',
    'view/widget.js',
    'view/widgetslot.js',
    'components/editor/component.js',
    'components/renderer/component.js',
    'components/wrapper/component.js',
    'forms/modelform/controller.js',
    'forms/widgetform/controller.js',
    'forms/confirmform/controller.js',
    'forms/viewtreeform/controller.js',
    'lib/helpers/formview.js',
    'lib/helpers/getfield.js',
    'lib/helpers/i18n.js',
    'lib/helpers/log.js',
    'lib/helpers/partialslot.js',
    'lib/helpers/renderwidget.js',
    'lib/helpers/validationtextarea.js',
    'lib/helpers/validationtextfield.js',
    'lib/helpers/widgetslot.js',
    'mixins/validation.js',
    'mixins/criticitylevels.js',
  ],
  outputFile: '/app.js',
  separator: '\n', // (optional, defaults to \n)
  wrapInFunction: false, // (optional, defaults to true)
});

tree = uglifyJavaScript(tree, {});

module.exports = tree;
