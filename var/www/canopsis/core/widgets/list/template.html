{{#if controller.loaded}}
	<div id="contextMenu" class="dropdown clearfix">
		<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu" style="display:block;position:static;margin-bottom:5px;">
			<li class="submenudropdown text-muted">{{tr 'Action'}}</li>
			<li><a data-action="edit" class='context_ack'><i class="fa fa-check"></i> {{tr 'Acknowledge'}}</a></li>
			<li><a class='context_ackticket'><i class="fa fa-ticket"></i> {{tr 'Report an incident'}}</a></li>
			<li><a class='context_ackticketnum'><i class="fa fa-pencil"></i> {{tr 'Enter a ticket number'}}</a></li>
			<li><a class='context_cancel'><i class="fa fa-ban"></i> {{tr 'Cancel'}}</a></li>
			<li><a data-action="removeRecord" class='context_delete'><i class="fa fa-trash-o"></i> {{tr 'Delete'}}</a></li>
			<li class="submenudropdown text-muted"><hr/>{{tr 'Remote handling'}}</li>
			<li><a class=''><i class="fa fa-caret-right"></i> Telnet</a></li>
			<li><a class=''><i class="fa fa-caret-right"></i> ssh RDP</a></li>
			<li><a class=''><i class="fa fa-caret-right"></i> VNC</a></li>
			<li class="submenudropdown text-muted"><hr/>{{tr 'Divers'}}</li>
			<li><a class=''><i class="fa fa-caret-right"></i> Ping</a></li>
		</ul>
	</div>

	<div class="btn-toolbar canopsis-toolbar" role="toolbar">
		<div class="pull-left">
			{{#if controller.selection_toolbar}}
				{{tr 'For the selection'}} :
				{{#each toolitem in controller.selection_toolbar}}
					{{partial toolitem}}
				{{/each}}
			{{/if}}
		</div>
		<div class="pull-right btn-group" data-toggle="btn-toggle">
			<button class="btn btn-default" {{action setFilter controller.default_filter}}>{{tr 'All'}}</button>
			{{#each filter in controller.filters}}
				<button type="button" class="btn btn-default editable" data-col="all" {{action setFilter filter.filter}}>{{filter.title}} 
					<small class="badge bg-blue" {{action editFilter filter}}> <i class="fa fa-wrench"></i></small>
					<small class="badge bg-orange" {{action removeFilter filter}}> <i class="fa fa-minus"></i></small>
				</button>
			{{/each}}
			<button type="button" class="btn btn-primary" {{action addUserFilter}} data-col="all">
				<i class="fa fa-plus"></i> {{tr 'Add'}}
			</button>
		</div>
		<div class="pull-right btn-group" data-toggle="btn-toggle">
			{{#each toolitem in controller.actions_toolbar}}
				{{partial toolitem}}
			{{/each}}
		</div>
		<div style="clear:both"></div>
		<br/>
		<div class="pull-right">
			{{tr 'Search'}} :
			{{component-searchbar value=controller.searchFieldValue placeholder="Search" target=controller searchableAttributes=controller.searchableAttributes}}
		</div>
		<div class="pull-left dataTables_filter">
			{{view Ember.Select
				content=controller.itemsPerPagePropositions
				value=controller.itemsPerPage
				class="inlineInput"
			}}
			{{tr 'records per page'}}
		</div>
	</div>
	<div class="table-responsive">
		<table {{bind-attr id="controller.id"}} class="table table-striped table-bordered table-hover dataTable">
			<thead>
				<tr>
					<th>
						{{component-checkbox checked=controller.isAllSelected class="toggle"}}
					</th>
					{{#each attr in controller.shown_columns}}
						{{#group}}
							{{#if attr.options.show}}
								<th {{bind-attr class="attr.headerClassName"}} {{action sort attr}}>
									{{#if attr.options.label}}
										{{tr attr.options.label}}
									{{else}}
										{{tr attr.field}}
									{{/if}}
								</th>
							{{/if}}
						{{/group}}
					{{/each}}
					{{#if controller.item_actions}}
						<th>{{tr 'Actions'}}</th>
					{{/if}}
				</tr>
			</thead>
			{{#if controller.config.cloaking}}
				{{cloaked-collection
					cloakView="listline"
					content=controller.widgetData
					tagName='tbody'
					itemController=Ember.Controller
					parentController=this}}
			{{else}}
				<tbody>
					{{#each controller.widgetData}}
						{{render "listline" this
							parentController=controller}}
					{{/each}}
				</tbody>
			{{/if}}
		</table>
		{{#unless controller.widgetData.content.length}}
			<div>{{tr 'No matching records found'}}</div>
		{{/unless}}
	</div>
	<div class="btn-toolbar canopsis-toolbar" role="toolbar">
		<div class="pull-left">
			{{tr 'Showing'}} {{controller.paginationFirstItemIndex}} {{tr 'to'}} {{controller.paginationLastItemIndex}} {{tr 'of'}} {{controller.itemsTotal}} {{tr 'entries'}}
		</div>
		<div style="clear:both"></div>
		<div class="pull-left">
			{{#if controller.selection_toolbar}}
				{{tr 'For the selection'}} :
				{{#each toolitem in controller.selection_toolbar}}
					{{partial toolitem}}
				{{/each}}
			{{/if}}
		</div>
		<div class="pull-right">
			{{#group}}
				<button type="button" class="btn btn-small btn-default" {{action prevPage}}>← {{tr 'Previous'}}</button>
					{{tr 'Page'}} {{controller.currentPage}} / {{controller.totalPages}}
				<button type="button" class="btn btn-small btn-default" {{action nextPage}}>{{tr 'Next'}} → </button>
			{{/group}}
		</div>
	</div>
{{else}}
	<i class="fa fa-refresh fa-spin"></i>
	{{tr 'Loading'}} ...
{{/if}}
