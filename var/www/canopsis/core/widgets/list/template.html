{{#if controller.loaded}}
    <div class="btn-toolbar canopsis-toolbar" role="toolbar">
        <div class="pull-left">
            {{#if controller.selection_toolbar}}
                {{tr 'For the selection'}} :
                {{#each toolitem in controller.selection_toolbar}}
                    {{partial toolitem}}
                {{/each}}
            {{/if}}
        </div>
        <div class="pull-right btn-group" data-toggle="btn-toggle">
            {{#each toolitem in controller.actions_toolbar}}
                {{partial toolitem}}
            {{/each}}
        </div>
        {{partialslot slot=controller._partials.header}}
    </div>
    <div class="table-responsive">
        <table {{bind-attr id="controller.id"}} class="table table-striped table-bordered table-hover dataTable sortable">
            <thead>
                <tr>
                    <th>
                        {{component-checkbox checked=controller.isAllSelected class="toggle"}}
                    </th>
                    {{#each attr in controller.shown_columns}}
                        {{#group}}
                            {{#if attr.options.show}}
                                <th {{action sort attr}} {{bind-attr class=attr.maximized:maximized}}>
                                    {{#if attr.options.label}}
                                        {{tr attr.options.label}}
                                    {{else}}
                                        {{tr attr.field}}
                                    {{/if}}
                                    {{sorticon attr.headerClassName}}
                                </th>
                            {{/if}}
                        {{/group}}
                    {{/each}}
                    {{#if controller.item_actions}}
                        <th>{{tr 'Actions'}}</th>
                    {{/if}}
                </tr>
            </thead>
            {{#if controller.config.cloaking}}
                {{cloaked-collection
                    cloakView="listline"
                    content=controller.widgetData
                    tagName='tbody'
                    itemController=Ember.Controller
                    parentController=this}}
            {{else}}
                <tbody>
                    {{#each controller.widgetData}}
                        {{render "listline" this
                            parentController=controller}}
                    {{/each}}
                </tbody>
            {{/if}}
        </table>
        {{#unless controller.widgetData.content.length}}
            <div class="noRecordsFound">{{tr 'No matching records found'}}</div>
        {{/unless}}
    </div>
    <div class="btn-toolbar canopsis-toolbar" role="toolbar">
        <div class="pull-left">
            {{tr 'Showing'}} {{controller.paginationFirstItemIndex}} {{tr 'to'}} {{controller.paginationLastItemIndex}} {{tr 'of'}} {{controller.itemsTotal}} {{tr 'entries'}}
        </div>
        <div style="clear:both"></div>
        <div class="pull-left">
            {{#if controller.selection_toolbar}}
                {{tr 'For the selection'}} :
                {{#each toolitem in controller.selection_toolbar}}
                    {{partial toolitem}}
                {{/each}}
            {{/if}}
        </div>
        {{partialslot slot=controller._partials.footer}}
    </div>
{{else}}
    {{#if controller.dataError.statusText}}
        <div class="callout callout-danger">
            <h4><i class="fa fa-warning"></i>Error</h4>
            <p>{{tr 'Error while loading data'}} ({{controller.dataError.statusText}})</p>
        </div>
    {{else}}
        <i class="fa fa-refresh fa-spin"></i>
        {{tr 'Loading'}} ...
    {{/if}}
{{/if}}
